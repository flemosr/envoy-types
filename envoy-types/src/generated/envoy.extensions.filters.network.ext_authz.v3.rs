// This file is @generated by prost-build.
///
/// External Authorization filter calls out to an external service over the
/// gRPC Authorization API defined by
/// : ref:`CheckRequest <envoy_v3_api_msg_service.auth.v3.CheckRequest>`.
///   A failed check will cause this filter to close the TCP connection.
///   \[\#next-free-field: 12\]
#[derive(Clone, PartialEq, ::prost::Message)]
pub struct ExtAuthz {
    /// The prefix to use when emitting statistics.
    #[prost(string, tag = "1")]
    pub stat_prefix: ::prost::alloc::string::String,
    /// The external authorization gRPC service configuration.
    /// The default timeout is set to 200ms by this filter.
    #[prost(message, optional, tag = "2")]
    pub grpc_service: ::core::option::Option<
        super::super::super::super::super::config::core::v3::GrpcService,
    >,
    /// The filter's behaviour in case the external authorization service does
    /// not respond back. When it is set to true, Envoy will also allow traffic in case of
    /// communication failure between authorization service and the proxy.
    /// Defaults to false.
    #[prost(bool, tag = "3")]
    pub failure_mode_allow: bool,
    /// Specifies if the peer certificate is sent to the external service.
    ///
    ///
    /// When this field is true, Envoy will include the peer X.509 certificate, if available, in the
    /// : ref:`certificate<envoy_v3_api_field_service.auth.v3.AttributeContext.Peer.certificate>`.
    #[prost(bool, tag = "4")]
    pub include_peer_certificate: bool,
    /// API version for ext_authz transport protocol. This describes the ext_authz gRPC endpoint and
    /// version of Check{Request,Response} used on the wire.
    #[prost(
        enumeration = "super::super::super::super::super::config::core::v3::ApiVersion",
        tag = "5"
    )]
    pub transport_api_version: i32,
    /// Specifies if the filter is enabled with metadata matcher.
    /// If this field is not specified, the filter will be enabled for all requests.
    #[prost(message, optional, tag = "6")]
    pub filter_enabled_metadata: ::core::option::Option<
        super::super::super::super::super::r#type::matcher::v3::MetadataMatcher,
    >,
    ///
    /// Optional labels that will be passed to :ref:`labels<envoy_v3_api_field_service.auth.v3.AttributeContext.Peer.labels>` in
    /// : ref:`destination<envoy_v3_api_field_service.auth.v3.AttributeContext.destination>`.
    ///   The labels will be read from :ref:`metadata<envoy_v3_api_msg_config.core.v3.Node>` with the specified key.
    #[prost(string, tag = "7")]
    pub bootstrap_metadata_labels_key: ::prost::alloc::string::String,
    /// Specifies if the TLS session level details like SNI are sent to the external service.
    ///
    ///
    /// When this field is true, Envoy will include the SNI name used for TLSClientHello, if available, in the
    /// : ref:`tls_session<envoy_v3_api_field_service.auth.v3.AttributeContext.tls_session>`.
    #[prost(bool, tag = "8")]
    pub include_tls_session: bool,
    /// When set to `true`, the filter will send a TLS `access_denied(49)` alert before closing
    /// the connection when authorization is denied. This provides better visibility to TLS clients
    /// about the reason for connection closure. This alert is only sent for TLS connections. The
    /// non-TLS connections will be closed without sending an alert.
    ///
    /// Defaults to `false`.
    #[prost(bool, tag = "9")]
    pub send_tls_alert_on_denial: bool,
    /// Specifies a list of metadata namespaces whose values, if present, will be passed to the
    /// ext_authz service. The :ref:`filter_metadata <envoy_v3_api_field_config.core.v3.Metadata.filter_metadata>`
    /// is passed as an opaque `protobuf::Struct`.
    ///
    /// For example, if the `proxy_protocol` listener filter is used and populates TLV metadata,
    /// then the following will pass that metadata to the authorization server for making decisions
    /// based on proxy protocol information.
    ///
    /// .. code-block:: yaml
    ///
    /// ```text
    /// metadata_context_namespaces:
    /// - envoy.filters.listener.proxy_protocol
    /// ```
    #[prost(string, repeated, tag = "10")]
    pub metadata_context_namespaces: ::prost::alloc::vec::Vec<
        ::prost::alloc::string::String,
    >,
    /// Specifies a list of metadata namespaces whose values, if present, will be passed to the
    /// ext_authz service. :ref:`typed_filter_metadata <envoy_v3_api_field_config.core.v3.Metadata.typed_filter_metadata>`
    /// is passed as a `protobuf::Any`.
    ///
    /// This works similarly to `metadata_context_namespaces` but allows Envoy and the ext_authz server to share
    /// the protobuf message definition in order to perform safe parsing.
    #[prost(string, repeated, tag = "11")]
    pub typed_metadata_context_namespaces: ::prost::alloc::vec::Vec<
        ::prost::alloc::string::String,
    >,
}
impl ::prost::Name for ExtAuthz {
    const NAME: &'static str = "ExtAuthz";
    const PACKAGE: &'static str = "envoy.extensions.filters.network.ext_authz.v3";
    fn full_name() -> ::prost::alloc::string::String {
        "envoy.extensions.filters.network.ext_authz.v3.ExtAuthz".into()
    }
    fn type_url() -> ::prost::alloc::string::String {
        "type.googleapis.com/envoy.extensions.filters.network.ext_authz.v3.ExtAuthz"
            .into()
    }
}
